# 📚 AI多代理协作小说创作 - 标准SOP模板

> **版本**: v3.0 正式版  
> **维护人**: 小透明  
> **更新**: 统一100分制、并行推进机制

---

## 1. 流程概览

```
项目启动 → 市场分析 → 脑暴会议
              ↓
前期构建：世界观 → 角色 → 剧情大纲（≥90分）
              ↓
写作循环：卷细纲 → 章节细纲 → 章节正文（并行推进）
              ↓
每5章审核 → 发布 → 每卷复盘/读者反馈
```

---

## 2. 角色定义

| 角色 | 职责 |
|------|------|
| 主编 | 统筹全局、审核决策 |
| 世界观架构师 | 设定背景、力量体系 |
| 角色设计师 | 人物设计、交际网络 |
| 剧情架构师 | 主线/支线规划、章节细纲 |
| 职业写手 | 正文撰写 |
| 小透明 | 流程推进、状态监控 |

---

## 3. 项目阶段

### 3.1 初始化
市场分析 → 脑暴会议

### 3.2 前期构建
| 产出 | 执行人 | 审核 |
|------|--------|------|
| 世界观白皮书 | 小石男 | ≥80分 |
| 角色设计文档 | 绝食女 | ≥80分 |
| 剧情大纲 | 剧毒妹 | **≥90分** |

### 3.3 写作循环（并行推进）
| 产出 | 执行人 | 审核 | 时限 |
|------|--------|------|------|
| 卷细纲 | 剧毒妹 | ≥80分 | - |
| 章节细纲 | 剧毒妹 | ≥80分 | - |
| 章节正文 | 刘一手 | ≥80分 | 30分钟/章 |

> **注**：章节细纲由剧毒妹提供，刘一手根据细纲撰写正文，提升并行度

#### 3.3.1 并行推进机制

```
时间线示例：
────────────────────────────────────────────→
剧毒妹:  [细纲1]→[细纲2]→[细纲3]...
              ↓       ↓       ↓
刘一手:   [正文1] [正文2] [正文3]...
              ↓       ↓       ↓
主编:     [审核1] [审核2] [审核3]...
```

#### 3.3.2 并行规则

| 场景 | 并行策略 |
|------|----------|
| 章节N审核中 | 章节N+1细纲+正文 同时进行 |
| 卷细纲审核中 | 下一卷准备工作可启动 |
| 设定变更中 | 未受影响章节可继续写 |
| 主编忙碌 | 章节进入排队序列 |

#### 3.3.3 流水线模式

| 角色 | 任务 | 可并行 |
|------|------|--------|
| 剧毒妹 | 提供章节细纲 | ✓ |
| 刘一手 | 撰写章节正文 | ✓ |
| 主编 | 审核章节 | ✓ |

> **原则**：审核不阻塞写作，保持流水线运转

### 3.4 每5章审核
全体评分：世界观+角色+剧情+文笔 ≥80分

### 3.5 每卷复盘
Review大纲改动、细节补充、后续走向

### 3.6 读者反馈
抽审3章 → 记录 → 迭代标准 → 默认全面重审

### 3.7 设定变更与章节修订
> 当角色设定、世界观或剧情大纲发生变化时，需要同步修订已写作的章节

#### 3.7.1 变更触发

| 变更类型 | 触发者 |
|----------|--------|
| 世界观调整 | 小石男 |
| 角色设定调整 | 绝食女 |
| 剧情大纲改动 | 剧毒妹 |

#### 3.7.2 影响评估

| 步骤 | 操作 |
|------|------|
| 1 | 变更者标注变更内容 |
| 2 | 识别受影响的章节范围 |
| 3 | 生成《修订清单》 |

#### 3.7.3 修订清单格式

```
## 修订清单 v1.0

### 变更内容
[变更描述]

### 受影响章节
| 章节 | 影响类型 | 优先级 |
|------|----------|--------|
| 第X章 | 角色A性格变化 | P0 |
| 第Y章 | 势力B设定调整 | P1 |

### 修订要求
[具体修改指示]
```

#### 3.7.4 优先级策略

| 优先级 | 场景 | 处理 |
|--------|------|------|
| P0 | 立即影响阅读 | 立即修订 |
| P1 | 即将发布章节 | 下次发布前修订 |
| P2 | 远期章节 | 可延后处理 |

#### 3.7.5 修订执行

| 步骤 | 执行人 | 时限 |
|------|--------|------|
| 收到清单 | 刘一手 | 即时 |
| 执行修订 | 刘一手 | 30分钟/章 |
| 提交修订版 | 刘一手 | - |

#### 3.7.6 质量检查

修订完成后需通过质量检查：

| 检查项 | 执行人 |
|--------|--------|
| 与新设定一致性 | 变更设定者 |
| 文笔质量 | 主编 |
| 无新增问题 | 变更设定者 |

**通过标准**：≥80分或与原章节得分持平

#### 3.7.7 审核回归

| 受影响设定 | 审核人 |
|------------|--------|
| 世界观 | 小石男 |
| 角色 | 绝食女 |
| 剧情 | 剧毒妹 |

**通过后** → 标记修订完成 → 继续写作

---

## 4. 审核标准（统一100分制）

### 4.1 世界观架构（100分）
| 评分项 | 分值 | 说明 |
|--------|------|------|
| 完整性 | 25 | 背景、力量体系、势力网络 |
| 逻辑性 | 25 | 设定自洽、无矛盾 |
| 创新性 | 25 | 与原作区分度 |
| 合理度 | 25 | 符合原生设定 |

**通过**：≥80分

---

### 4.2 角色设计（100分）
| 评分项 | 分值 | 说明 |
|--------|------|------|
| 立体度 | 20 | 性格复杂度 |
| 差异化 | 20 | 与原角色区分度 |
| 成长弧 | 20 | 角色成长轨迹 |
| 交际度 | 20 | 交际网络丰满度 |
| 一致度 | 20 | 与世界观匹配度 |

**通过**：≥80分

---

### 4.3 剧情大纲（100分）
| 评分项 | 分值 | 说明 |
|--------|------|------|
| 节奏感 | 15 | 剧情推进张力 |
| 冲突度 | 15 | 矛盾冲突设计 |
| 悬念度 | 20 | 钩子/坑设计 |
| 创新性 | 15 | 独特亮点 |
| 细节度 | 15 | 伏笔埋设 |
| 合理度 | 25 | 符合世界观+角色设定 |

**通过**：≥90分

---

### 4.4 章节正文（100分）
| 评分项 | 分值 | 说明 |
|--------|------|------|
| 文笔 | 25 | 文字功底 |
| 人物刻画 | 25 | 角色表现力 |
| 情节推进 | 25 | 剧情发展 |
| 细节伏笔 | 25 | 钩子埋设 |

**通过**：≥80分

---

### 4.5 章节审核结果
| 得分 | 结果 | 处理 |
|------|------|------|
| ≥80分 | ✅ 通过 | 进入发布 |
| 60-79分 | 🔄 修改 | 15分钟内完成 |
| <60分 | 🚨 紧急 | 主编+架构师+写手会议 |

---

## 5. 文档规范

### 目录结构
```
项目根目录/
├── 项目文档/      # SOP、进度、审核标准
├── 中间产出/      # 世界观、角色、剧情
└── 小说正文/卷X/ # 章节正文
```

### 绝对路径
```
/Users/wofeiwo/.openclaw/workspace/agents/小透明/项目/[项目名]/
```

### 规则
1. 统一保存
2. 版本管理（v1.0）
3. 必须参考文档
4. 非必要不偏离设定
5. 设定修改需会议决策

---

## 6. 监护机制

### 超时规则
| 任务类型 | 超时 | 处理 |
|----------|------|------|
| 简单确认 | 5分钟 | 标记继续 |
| 文档产出 | 10分钟 | 催办1次 |
| 章节写作 | 30分钟 | 持续催办 |
| 大纲评分 | 15分钟 | 硬性门槛 |

### Session管理
每30分钟检查，>80%执行`/compact`

### 强制校验
- [ ] 文件在正确路径
- [ ] 文件大小 > 1KB
- [ ] 修改时间在周期内

### 自动触发
产出完成 → 自动触发下一步+文件校验

---

## 7. 会议规范

| 会议 | 触发 | 参与 | 主持 |
|------|------|------|------|
| 脑暴会议 | 项目启动 | 全员 | 主编 |
| 质量审核 | 每5章 | 全员 | 小透明 |
| 每卷复盘 | 每卷结束 | 全员 | 小透明 |
| 紧急会议 | <60分 | 主编+相关 | 主编 |
| 设定修改 | 需要改设定 | 设定方+小透明+主编 | 主编 |

---

## 8. 异常处理

| 异常 | 处理 |
|------|------|
| 任务超时 | 记录+催办+升级 |
| 审核不通过 | 返回修改 |
| 严重问题 | 紧急会议 |
| 设定偏离 | 拉起会议 |
| 成员失联 | 记录+升级 |

---

## 9. 附录

### 避雷清单
1. Agent超时 → 分级超时+文件验证
2. 路径散乱 → 绝对路径+强制校验
3. 评分形式化 → 80分硬门槛
4. 触发断链 → 自动触发+状态监听
5. Session溢出 → 30分钟检查+compact

---

*v3.0 正式版*
